{% extends "base.html" %}

{% block content %}
<div class="draw-animation-container">
    <div class="draw-animation-icon">
        <i class="fas fa-random fa-3x"></i>
    </div>
    <div class="draw-animation-title">Sorteggio in corso...</div>
    <div class="draw-animation-bar">
        <div class="draw-animation-bar-fill" id="barFill"></div>
    </div>
</div>
<script>
    // Barra animata e redirect dopo 2 secondi
    let progress = 0;
    const bar = document.getElementById('barFill');
    const interval = setInterval(() => {
        progress += 5;
        bar.style.width = progress + '%';
        if (progress >= 100) {
            clearInterval(interval);
            window.location.href = "{{ url_for('tournaments.view_americana_day', tournament_id=tournament.id, day_id=day.id) }}";
        }
    }, 40);
</script>
<style>
.draw-animation-container {
    max-width: 400px;
    margin: 60px auto;
    padding: 30px 20px;
    background: #222;
    border-radius: 16px;
    text-align: center;
    box-shadow: 0 2px 16px rgba(0,0,0,0.2);
}
.draw-animation-icon {
    color: #28a745;
    margin-bottom: 18px;
}
.draw-animation-title {
    color: #fff;
    font-size: 1.2em;
    margin-bottom: 18px;
}
.draw-animation-bar {
    width: 100%;
    height: 18px;
    background: #444;
    border-radius: 9px;
    overflow: hidden;
    margin: 0 auto;
}
.draw-animation-bar-fill {
    height: 100%;
    width: 0;
    background: linear-gradient(90deg, #28a745, #ffd700);
    border-radius: 9px;
    transition: width 0.04s linear;
}
@media (max-width: 600px) {
    .draw-animation-container {
        max-width: 95vw;
        padding: 18px 4vw;
    }
    .draw-animation-title {
        font-size: 1em;
    }
}
</style>
{% endblock %} 